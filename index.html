<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1, user-scalable=0">
<html>
    <head>
		<link rel="stylesheet" type="text/css" href="index.css">
    </head>
    <body>
        <div id="container">
            <audio id="rewriteTheStarsAudio">
                <source src="chorus.mp3" type="audio/mpeg">
            </audio>
            <div id="text">
                <h1>It feels impossible</h1>
                <h2 onclick="itsPossible()"">Say that it's possible?</h2>
            </div>
        </div>
    </body>
</html>

<script>
function s(q){return document.querySelectorAll(q)}

function getStarHtml(maxSize){
    var size = Math.ceil(Math.random()*maxSize); //in px
    var animDur = Math.ceil(1/(size/maxSize) * 25)//smaller stars should move slower, so the higher size is the faster the animation needs to be
    return `
        <div class="star-container" style="
            animation-duration: `+animDur+`s;
            width: `+size+`px; 
            top: `+Math.floor(Math.random()*200)+`svh; 
            left: `+Math.floor(Math.random()*200)+`svw;">

            <div class="star" style="
                filter: blur(`+((Math.floor(Math.random()*4))+2)+`px); 
                animation-delay: `+Math.floor(Math.random()*3000)+`ms"></div>
        </div>
    `;
}
var html=""
for(var i=0; i<300; i++) {
    html+=getStarHtml(10)
}
s("#container")[0].innerHTML+=html;

function itsPossible(){
    s("#text")[0].style.animation="disappear 1s linear forwards"
    //s("#rewriteTheStarsAudio")[0].play()
    s(".star-container").forEach(div=>{
        div.classList.add("pausedAnim");
    });

}

</script>